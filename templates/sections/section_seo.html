{% extends "base.html" %}

{% block additionalResources %}

{% if section.title %}
<title>{{ section.title }} | Dynamotivation</title>
{% endif %}
{% if section.description %}
<meta name="description" content="{{ section.description }}">
{% endif %}
<meta name="author" content="Dynamotivation">
{% if section.taxonomies %}
<meta name="keywords" content="{{ section.taxonomies.tags | join(sep=" , ") }}">
{% endif %}

<!-- OpenGraph -->
{% if section.title %}
<meta property="og:title" content="{{ section.title }}">
{% endif %}
{% if section.description %}
<meta property="og:description" content="{{ section.description }}">
{% endif %}
<meta property="og:image" content="{{ section.extra.image | default(value=get_url(path='images/fullLogo.png')) }}">
<meta property="og:url" content="{{ section.permalink | safe }}">
<meta property="og:site_name" content="Dynamotivation">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@Dynamotivation">
{% set _site_url = get_url(path='', trailing_slash=true) | safe %}
{% set twitter_domain = _site_url | replace(from='https://', to='') | replace(from='http://', to='') | replace(from='/', to='') %}
<meta property="twitter:domain" content="{{ twitter_domain }}">
<meta property="twitter:url" content="{{ section.permalink | safe }}">
<meta name="twitter:title" content="{{ section.title }} | Dynamotivation">
<meta name="twitter:description" content="{{ section.description }}">

<!-- Canonical URL (Avoid duplicate content issues) -->
<link rel="canonical" href="{{ section.permalink | safe }}">

<script type="application/ld+json">
  {
      "@context": "https://schema.org",
      {% block additionalSchema %} {% endblock %}
      {% if section.title %}
      "headline": "{{ section.title }}",
      {% endif %}
      {% if section.description %}"description": "{{ section.description }}",{% endif %}
      "author": {
          "@type": "Person",
          "name": "Dynamotivation",
          "url": "{{ section.extra.author_url | default(value=get_url(path='', trailing_slash=true)) | safe }}"
      },
      "publisher": {
          "@type": "Organization",
          "name": "Dynamotivation",
          "url": "{{ get_url(path='', trailing_slash=true) | safe }}",
          "logo": {
              "@type": "ImageObject",
              "url": "{{ get_url(path='images/fullLogo.png') }}"
          }
      },
      {% if section.date is defined %}
        {% set section_published_iso = section.date | date(format="%Y-%m-%dT%H:%M:%S%:z", timezone="UTC") %}
      {% else %}
        {% set section_published_iso = "" %}
      {% endif %}
      {% if section.updated %}
        {% set section_modified_iso = section.updated | date(format="%Y-%m-%dT%H:%M:%S%:z", timezone="UTC") %}
      {% else %}
        {% set section_modified_iso = "" %}
      {% endif %}
      {% if section_published_iso %}
      "datePublished": "{{ section_published_iso }}",
      {% endif %}
      {% if section_modified_iso %}
      "dateModified": "{{ section_modified_iso }}",
      {% endif %}
      {% if section.image %}
      "image": "{{ section.image }}",
      {% endif %}
      "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "{{ section.permalink | safe }}"
      }
  }
  </script>

  {% endblock additionalResources %}